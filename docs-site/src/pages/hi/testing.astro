---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import hi from '../../i18n/hi.json';

const t = hi;
const locale = 'hi';
---

<Layout 
  title={t.testing.meta.title}
  description={t.testing.meta.description}
  locale={locale}
  keywords={t.testing.meta.keywords}
>
  <Header t={t} locale={locale} />
  
  <!-- Hero Section -->
  <section class="relative overflow-hidden bg-gradient-to-br from-gray-900 via-primary to-gray-800 text-white py-16 sm:py-20 lg:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center max-w-4xl mx-auto">
        <div class="inline-block bg-accent/10 text-accent px-4 py-2 rounded-full text-sm font-semibold mb-6">
          {t.testing.hero.badge}
        </div>
        
        <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold mb-6 leading-tight">
          {t.testing.hero.title} <span class="gradient-text">{t.testing.hero.titleHighlight}</span>
        </h1>
        
        <p class="text-xl sm:text-2xl text-gray-300 mb-8 leading-relaxed">
          {t.testing.hero.subtitle}
        </p>
      </div>
    </div>
  </section>

  <!-- Stats Grid -->
  <section class="py-12 sm:py-16 bg-white border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
        {t.testing.stats.map((stat: any, index: number) => {
          const gradients = [
            'from-accent/10 to-green-500/10 border-accent/20',
            'from-blue-500/10 to-blue-600/10 border-blue-500/20',
            'from-purple-500/10 to-purple-600/10 border-purple-500/20',
            'from-pink-500/10 to-pink-600/10 border-pink-500/20'
          ];
          const textColors = ['text-accent', 'text-blue-600', 'text-purple-600', 'text-pink-600'];
          
          return (
            <div class={`text-center p-6 bg-gradient-to-br ${gradients[index]} rounded-xl border`}>
              <div class={`text-5xl font-bold ${textColors[index]} mb-2`}>{stat.value}</div>
              <div class="text-sm font-semibold text-gray-700">{stat.label}</div>
              <div class="text-xs text-gray-500 mt-1">{stat.description}</div>
            </div>
          );
        })}
      </div>
    </div>
  </section>

  <!-- Validation Process -->
  <section class="py-16 sm:py-20 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl sm:text-4xl font-bold text-primary mb-4">{t.testing.validation.title}</h2>
        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
          {t.testing.validation.subtitle}
        </p>
      </div>

      <div class="space-y-8 max-w-4xl mx-auto">
        {t.testing.validation.steps.map((step: any, index: number) => {
          const gradients = [
            'from-accent to-green-600',
            'from-blue-500 to-blue-600',
            'from-purple-500 to-purple-600',
            'from-pink-500 to-pink-600',
            'from-yellow-500 to-yellow-600'
          ];
          
          return (
            <div class="flex items-start bg-white p-6 rounded-lg shadow-sm">
              <div class={`flex-shrink-0 w-12 h-12 bg-gradient-to-br ${gradients[index]} text-white rounded-full flex items-center justify-center font-bold text-lg mr-6`}>
                {index + 1}
              </div>
              <div>
                <h3 class="text-xl font-bold text-primary mb-2">{step.title}</h3>
                <p class="text-gray-600">{step.description}</p>
              </div>
            </div>
          );
        })}
      </div>

      <!-- Advanced Validation Techniques -->
      <div class="mt-16 bg-white rounded-xl p-8 shadow-sm">
        <h3 class="text-2xl font-bold text-primary mb-6">{t.testing.advancedTechniques.title}</h3>
        
        <div class="grid md:grid-cols-2 gap-8">
          <!-- Data Types -->
          <div>
            <h4 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
              <svg class="w-6 h-6 text-accent mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              {t.testing.advancedTechniques.dataTypes.title}
            </h4>
            <ul class="space-y-2 text-gray-600">
              {t.testing.advancedTechniques.dataTypes.items.map((item: any) => (
                <li class="flex items-start">
                  <span class="text-accent mr-2">•</span>
                  <span><strong>{item.label}:</strong> {item.description}</span>
                </li>
              ))}
            </ul>
          </div>

          <!-- Performance -->
          <div>
            <h4 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
              <svg class="w-6 h-6 text-blue-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd"></path>
              </svg>
              {t.testing.advancedTechniques.performance.title}
            </h4>
            <ul class="space-y-2 text-gray-600">
              {t.testing.advancedTechniques.performance.items.map((item: any) => (
                <li class="flex items-start">
                  <span class="text-blue-600 mr-2">•</span>
                  <span><strong>{item.label}:</strong> {item.description}</span>
                </li>
              ))}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Test Coverage -->
  <section class="py-16 sm:py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl sm:text-4xl font-bold text-primary mb-4">{t.testing.coverage.title}</h2>
        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
          {t.testing.coverage.subtitle}
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-8">
        {t.testing.coverage.categories.map((category: any, index: number) => {
          const colors = [
            { border: 'border-blue-500', bg: 'from-blue-50 to-blue-100', text: 'text-blue-900', item: 'text-blue-800', icon: 'text-blue-600' },
            { border: 'border-green-500', bg: 'from-green-50 to-green-100', text: 'text-green-900', item: 'text-green-800', icon: 'text-green-600' },
            { border: 'border-purple-500', bg: 'from-purple-50 to-purple-100', text: 'text-purple-900', item: 'text-purple-800', icon: 'text-purple-600' }
          ];
          const color = colors[index];
          
          return (
            <div class={`bg-gradient-to-br ${color.bg} border-l-4 ${color.border} p-8 rounded-r-lg`}>
              <h3 class={`text-2xl font-bold ${color.text} mb-6`}>{category.title}</h3>
              <ul class={`space-y-3 ${color.item}`}>
                {category.items.map((item: string) => (
                  <li class="flex items-start">
                    <svg class={`w-6 h-6 ${color.icon} mr-3 mt-0.5 flex-shrink-0`} fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    <span set:html={item}></span>
                  </li>
                ))}
              </ul>
            </div>
          );
        })}
      </div>

      <!-- Database-Specific Testing -->
      <div class="mt-16 grid md:grid-cols-2 gap-8">
        <div class="bg-gradient-to-br from-indigo-50 to-indigo-100 border-l-4 border-indigo-500 p-8 rounded-r-lg">
          <h3 class="text-2xl font-bold text-indigo-900 mb-4 flex items-center">
            <svg class="w-8 h-8 mr-3" fill="currentColor" viewBox="0 0 20 20">
              <path d="M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"></path>
              <path d="M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"></path>
              <path d="M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"></path>
            </svg>
            {t.testing.databaseSpecific.postgres.title}
          </h3>
          <ul class="space-y-2 text-indigo-800">
            {t.testing.databaseSpecific.postgres.items.map((item: string) => (
              <li>✓ {item}</li>
            ))}
          </ul>
        </div>

        <div class="bg-gradient-to-br from-cyan-50 to-cyan-100 border-l-4 border-cyan-500 p-8 rounded-r-lg">
          <h3 class="text-2xl font-bold text-cyan-900 mb-4 flex items-center">
            <svg class="w-8 h-8 mr-3" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            {t.testing.databaseSpecific.sqlite.title}
          </h3>
          <ul class="space-y-2 text-cyan-800">
            {t.testing.databaseSpecific.sqlite.items.map((item: string) => (
              <li>✓ {item}</li>
            ))}
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Code Example -->
  <section class="py-16 sm:py-20 bg-gray-50">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl sm:text-4xl font-bold text-primary mb-4">{t.testing.example.title}</h2>
        <p class="text-lg text-gray-600">
          {t.testing.example.subtitle}
        </p>
      </div>

      <div class="bg-gray-900 rounded-xl overflow-hidden border border-gray-700 mb-8">
        <div class="bg-gray-800 px-6 py-3 border-b border-gray-700">
          <span class="text-gray-300 text-sm font-mono">{t.testing.example.filename}</span>
        </div>
        <pre class="p-6 overflow-x-auto text-sm"><code class="language-typescript">{t.testing.example.code}</code></pre>
      </div>

      <!-- Test Execution Flow -->
      <div class="bg-white rounded-xl p-8 shadow-sm">
        <h3 class="text-2xl font-bold text-primary mb-6">{t.testing.executionFlow.title}</h3>
        
        <div class="space-y-6">
          {t.testing.executionFlow.steps.map((step: any, index: number) => {
            const colors = ['accent', 'blue-600', 'purple-600', 'pink-600', 'yellow-600'];
            return (
              <div class={`border-l-4 border-${colors[index]} pl-6 py-2`}>
                <h4 class="font-bold text-gray-900 mb-2">{step.number}. {step.title}</h4>
                <p class="text-gray-600">{step.description}</p>
              </div>
            );
          })}
        </div>
      </div>

      <!-- Multi-Version Validation -->
      <div class="mt-8 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-8 border border-purple-200">
        <h3 class="text-2xl font-bold text-purple-900 mb-4">{t.testing.multiVersion.title}</h3>
        <p class="text-purple-800 mb-4">{t.testing.multiVersion.description}</p>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="bg-white rounded-lg p-4 border border-purple-200">
            <h4 class="font-bold text-purple-900 mb-2">{t.testing.multiVersion.v6.title}</h4>
            <ul class="text-sm text-purple-800 space-y-1">
              {t.testing.multiVersion.v6.items.map((item: string) => (
                <li>• {item}</li>
              ))}
            </ul>
          </div>
          <div class="bg-white rounded-lg p-4 border border-purple-200">
            <h4 class="font-bold text-purple-900 mb-2">{t.testing.multiVersion.v7.title}</h4>
            <ul class="text-sm text-purple-800 space-y-1">
              {t.testing.multiVersion.v7.items.map((item: string) => (
                <li>• {item}</li>
              ))}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Benchmark Results Access -->
  <section class="py-12 bg-white border-t border-gray-200">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-8 border border-blue-200">
        <h3 class="text-2xl font-bold text-blue-900 mb-4 flex items-center">
          <svg class="w-8 h-8 mr-3 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z" clip-rule="evenodd"></path>
          </svg>
          {t.testing.benchmarkReports.title}
        </h3>
        <p class="text-blue-800 mb-6">{t.testing.benchmarkReports.description}</p>
        <div class="grid md:grid-cols-2 gap-4 mb-6">
          {t.testing.benchmarkReports.files.map((file: string) => (
            <div class="bg-white rounded-lg p-4 border border-blue-200">
              <code class="text-sm text-blue-900 font-mono">{file}</code>
            </div>
          ))}
        </div>
        <p class="text-sm text-blue-700">{t.testing.benchmarkReports.footer}</p>
      </div>
    </div>
  </section>

  <!-- View Tests CTA -->
  <section class="py-16 sm:py-20 bg-gradient-to-br from-accent to-green-600 text-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl sm:text-4xl font-bold mb-6">{t.testing.cta.title}</h2>
      <p class="text-xl mb-8 text-green-50">
        {t.testing.cta.subtitle}
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="https://github.com/multipliedtwice/prisma-to-sql/tree/main/tests" class="bg-white text-accent hover:bg-gray-100 font-bold py-4 px-8 rounded-lg text-lg transition">
          {t.testing.cta.button1}
        </a>
        <a href="https://github.com/multipliedtwice/prisma-to-sql#performance" class="bg-white/10 hover:bg-white/20 text-white font-bold py-4 px-8 rounded-lg text-lg transition border border-white/30">
          {t.testing.cta.button2}
        </a>
      </div>
    </div>
  </section>

  <Footer t={t} locale={locale} />
</Layout>